const _0x43eaaa=_0x1651;function _0xfa65(){const _0x359877=['push','map','216yqRibn','split','Invalid\x20URL','cookie','456oBSINX','axios','1381210SGMQDt','join','text','data','8uTHvSp','test','parse','499590mgcRXq','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/88.0.4324.150\x20Safari/537.36','entries','_cfduid','PHPSESSID','string','316326ZkENGn','POST','cheerio','reduce','Token\x20invalid?\x20','1452732JDdaGD','21049PeDhMM','9eTclZt','48ZCicsP','node-fetch','getHeaders','Create\x20a\x20photo','application/x-www-form-urlencoded;\x20charset=UTF-8','432022jScgTn','en-US,en;q=0.9','isArray','getBuffer','text[]','https://ephoto360.com/effect/create-image','form-data','headers','https://s1.ephoto360.com/','append','set-cookie','GET','813912fjjRLz'];_0xfa65=function(){return _0x359877;};return _0xfa65();}(function(_0x36fe9a,_0x3b11e9){const _0x19a7c2=_0x1651,_0x1a196d=_0x36fe9a();while(!![]){try{const _0x15b9cc=-parseInt(_0x19a7c2(0xe9))/0x1+-parseInt(_0x19a7c2(0xd3))/0x2*(-parseInt(_0x19a7c2(0xdc))/0x3)+-parseInt(_0x19a7c2(0xe1))/0x4+-parseInt(_0x19a7c2(0xd6))/0x5*(parseInt(_0x19a7c2(0xe4))/0x6)+-parseInt(_0x19a7c2(0xe2))/0x7*(-parseInt(_0x19a7c2(0xcd))/0x8)+-parseInt(_0x19a7c2(0xe3))/0x9*(-parseInt(_0x19a7c2(0xcf))/0xa)+-parseInt(_0x19a7c2(0xf5))/0xb*(-parseInt(_0x19a7c2(0xf8))/0xc);if(_0x15b9cc===_0x3b11e9)break;else _0x1a196d['push'](_0x1a196d['shift']());}catch(_0x3f1e36){_0x1a196d['push'](_0x1a196d['shift']());}}}(_0xfa65,0x72673));const fetch=require(_0x43eaaa(0xe5)),cheerio=require(_0x43eaaa(0xde)),cookie=require(_0x43eaaa(0xcc)),axios=require(_0x43eaaa(0xce)),FormData=require(_0x43eaaa(0xef));function _0x1651(_0x52c5fa,_0x3dd26c){const _0xfa655=_0xfa65();return _0x1651=function(_0x1651f4,_0x57fc3d){_0x1651f4=_0x1651f4-0xca;let _0x363ab=_0xfa655[_0x1651f4];return _0x363ab;},_0x1651(_0x52c5fa,_0x3dd26c);}function gaspost(_0x114a9a,_0x377dec,_0x14285f={}){const _0x50f18a=_0x43eaaa;let _0x218bab=encodeURIComponent;const _0x180962=JSON[_0x50f18a(0xd5)](_0x377dec);let _0x34d02f=Object['keys'](_0x180962)['map'](_0x24eb8a=>{const _0x33df76=_0x50f18a;let _0x3b1c54=_0x180962[_0x24eb8a],_0x65570=Array[_0x33df76(0xeb)](_0x3b1c54),_0x8fc6bb=_0x218bab(_0x24eb8a+(_0x65570?'[]':''));if(!_0x65570)_0x3b1c54=[_0x3b1c54];let _0x457ade=[];for(let _0x123021 of _0x3b1c54)_0x457ade[_0x33df76(0xf6)](_0x8fc6bb+'='+_0x218bab(_0x123021));return _0x457ade[_0x33df76(0xd0)]('&');})[_0x50f18a(0xd0)]('&');return axios(_0x114a9a,{'method':_0x50f18a(0xdd),'headers':{'accept':'/','accept-language':_0x50f18a(0xea),'content-type':_0x50f18a(0xe8),'User-Agent':_0x50f18a(0xd7),..._0x14285f},'data':_0x34d02f});}async function ephoto2(_0x1ad40c,_0x415229=[_0x43eaaa(0xd1)]){const _0x48f810=_0x43eaaa;if(!/^https:\/\/ephoto360\.com\/.+\.html$/[_0x48f810(0xd4)](_0x1ad40c))throw new Error(_0x48f810(0xcb));let _0x37e4fe=await axios['get'](_0x1ad40c,{'method':_0x48f810(0xf4),'headers':{'accept':'/','accept-language':'en-US,en;q=0.9','content-type':_0x48f810(0xe8),'User-Agent':_0x48f810(0xd7)}}),_0x28abba=_0x37e4fe[_0x48f810(0xd2)];const _0x85d486=_0x37e4fe['headers'][_0x48f810(0xf3)][0x0][_0x48f810(0xca)](',')[_0x48f810(0xf7)](_0x1d7a84=>cookie[_0x48f810(0xd5)](_0x1d7a84))['reduce']((_0x2bb893,_0x357466)=>{return{..._0x2bb893,..._0x357466};},{}),_0x584f5c=_0x37e4fe[_0x48f810(0xf0)][_0x48f810(0xf3)][0x0][_0x48f810(0xca)](',')[_0x48f810(0xf7)](_0x17cec6=>cookie[_0x48f810(0xd5)](_0x17cec6))[_0x48f810(0xdf)]((_0x3f49fc,_0x28c27a)=>{return{..._0x3f49fc,..._0x28c27a};},{});cookies={'_cfduid':_0x85d486[_0x48f810(0xd9)],'PHPSESSID':_0x584f5c[_0x48f810(0xda)]};let _0x537772={'submit':_0x48f810(0xe7),'token':/name="token".*value="(.+?)"/['exec'](_0x28abba)[0x1],'build_server':_0x48f810(0xf1),'build_server_id':0x1},_0x140bc6=new FormData();if(typeof _0x415229===_0x48f810(0xdb))_0x415229=[_0x415229];for(let _0x2e8961 of _0x415229)_0x140bc6[_0x48f810(0xf2)](_0x48f810(0xed),_0x2e8961);for(let _0x55d523 in _0x537772)_0x140bc6[_0x48f810(0xf2)](_0x55d523,_0x537772[_0x55d523]);cookies=Object[_0x48f810(0xd8)](cookies)[_0x48f810(0xf7)](([_0x56fdf3,_0x2aed16])=>cookie['serialize'](_0x56fdf3,_0x2aed16))[_0x48f810(0xd0)](';\x20');let _0x241a1c=await axios(_0x1ad40c,{'method':'POST','headers':{'accept':'/','accept-language':_0x48f810(0xea),..._0x140bc6[_0x48f810(0xe6)](),'cookie':cookies,'User-Agent':_0x48f810(0xd7)},'data':_0x140bc6[_0x48f810(0xec)]()}),_0x138467=_0x241a1c[_0x48f810(0xd2)],_0x27bbd9=/name="form_value_input".*value="(.+?)"/['exec'](_0x138467);if(!_0x27bbd9)throw new Error(_0x48f810(0xe0)+/No token/i[_0x48f810(0xd4)](_0x138467));let _0x226600=_0x27bbd9[0x1]['split']('&quot;')[_0x48f810(0xd0)]('\x22'),_0x4363f1=await gaspost(_0x48f810(0xee),_0x226600,{'cookie':cookies});return await _0x4363f1[_0x48f810(0xd2)];}module['exports']={'ephoto2':ephoto2};